<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml"
	xmlns:reader="com.qiaobutang.talk.reader.*"
	xmlns:flexlib="http://code.google.com/p/flexlib/"
	layout="vertical"
	paddingTop="0"
	paddingLeft="0"
	paddingRight="0"
	paddingBottom="0"
	backgroundColor="#B2B2B2"
	applicationComplete="init_app()"
	>
	
	<mx:Script source="reader.as"></mx:Script>
	
	<mx:XML id="info_menu_provider">
		<root>
			<item label="查看更多" icon="more_icon" />
			<item label="我要评论" icon="comment_icon" />
			
			<item type="separator" />
			
			<item label="获取嵌入代码" icon="embed_icon" />
			
			<item type="separator" />
			
			<item label="帮助" icon="help_icon" />
			<item label="关于" icon="about_icon" />
		</root>
	</mx:XML>
	
	<mx:RemoteObject
		id="talk_show_service"
		destination="TalkShowService"
		endpoint="{website}/weborb"
		result="on_got_content(event);"
		fault="on_fault(event);"
		/>
	
	
	<mx:ApplicationControlBar width="100%" id="app_bar" horizontalGap="{app_bar_gap}">
		<mx:Image source="@Embed(source='resources/logo.png')"
			id="logo_img"
			click="logo_img_click()"
			useHandCursor="true"
			buttonMode="true"
			/>
			
			
		<mx:Spacer width="100%"></mx:Spacer>
		
		
		<mx:Button
			id="info_menu_btn"
			label=""
			icon="@Embed(source='resources/dropdown_menu_icon.gif')"
			paddingLeft="0"
			paddingRight="0"
			toolTip="更多菜单"
			width="24"
			height="24"
			click="show_info_menu()"
			mouseOver="show_info_menu()"
			buttonMode="true"
			/>
			
		<mx:Spacer width="3"></mx:Spacer>
		
		<mx:VRule
			height="16"
			strokeColor="#808080"
			/>
			
		<mx:Spacer width="3"></mx:Spacer>
			
		<mx:Button
			id="big_btn"
			label=""
			icon="@Embed(source='resources/big_icon.png')"
			paddingLeft="0"
			paddingRight="0"
			toolTip="放大"
			width="24"
			height="24"
			click="scale_content(10)"
			buttonMode="true"
			/>
		<mx:Button
			id="small_btn"
			label=""
			icon="@Embed(source='resources/small_icon.png')"
			paddingLeft="0"
			paddingRight="0"
			toolTip="缩小"
			width="24"
			height="24"
			click="scale_content(-10)"
			buttonMode="true"
			/>
			
		<mx:VRule
			height="16"
			strokeColor="#808080"
			/>
			
		<mx:Button
			label=""
			icon="@Embed(source='resources/search_icon.gif')"
			paddingLeft="0"
			paddingRight="0"
			toolTip="搜索"
			width="24"
			height="24"
			click="toggle_search_panel()"
			buttonMode="true"
			/>
			
		<mx:VRule
			height="16"
			strokeColor="#808080"
			/>
		
		<mx:Button
			id="fullscreen_btn"
			label=""
			icon="@Embed(source='resources/fullscreen_icon.gif')"
			paddingLeft="0"
			paddingRight="0"
			toolTip="全屏阅读"
			width="24"
			height="24"
			click="toggle_fullscreen()"
			buttonMode="true"
			/>
		<mx:Button
			id="normal_btn"
			label=""
			icon="@Embed(source='resources/normal_icon.gif')"
			paddingLeft="0"
			paddingRight="0"
			toolTip="退出全屏"
			width="24"
			height="24"
			click="toggle_fullscreen()"
			buttonMode="true"
			/>
		
	</mx:ApplicationControlBar>
	
	
	<reader:ReaderContentCanvas
		width="100%"
		height="100%"
		verticalScrollPolicy="on"
		id="content_container"
		borderColor="#888888"
		borderStyle="outset"
		doubleClickEnabled="true"
		>
		
		<mx:TextArea
			id="content"
			horizontalCenter="0"
			paddingTop="10"
			paddingBottom="20"
			paddingLeft="30"
			paddingRight="30"
			fontSize="14"
			leading="10"
			verticalScrollPolicy="off"
			horizontalScrollPolicy="off"
			editable="false"
			selectable="false"
			enabled="true"
			wordWrap="true"
			displayAsPassword="false"
			borderThickness="0"
			>
		
		</mx:TextArea>
		
	</reader:ReaderContentCanvas>
	
	
	<mx:ControlBar
		id="search_panel"
		includeInLayout="false"
		visible="false"
		width="100%"
		horizontalGap="1"
		paddingTop="0"
		paddingBottom="4"
		>
		
		<mx:Image source="@Embed(source='resources/close_icon.gif')"
			click="toggle_search_panel()"
			toolTip="关闭"
			useHandCursor="true"
			buttonMode="true"
			/>
			
		<mx:Spacer width="5"></mx:Spacer>
		
		<mx:Label text="搜索:" fontSize="12" paddingTop="1" />
			
		<flexlib:PromptingTextInput
			id="search_box"
			width="75"
			prompt="要搜索的内容"
			enter="search_next()"
			/>
			
		<mx:Spacer width="3"></mx:Spacer>
		
		<mx:Button
			label="下一个"
			toolTip="搜索下一个"
			click="search_next()"
			paddingLeft="0"
			paddingRight="0"
			buttonMode="true"
			/>
		<mx:Button
			label="上一个"
			toolTip="搜索上一个"
			click="search_pre()"
			paddingLeft="0"
			paddingRight="0"
			buttonMode="true"
			/>
			
		<mx:Spacer width="3"></mx:Spacer>
		
		<mx:VRule
			height="16"
			strokeColor="#808080"
			/>
		
		<mx:Spacer width="3"></mx:Spacer>
		
		<mx:Button
			toggle="true"
			id="toggle_highlight_all_btn"
			label="高亮全部"
			toolTip="高亮全部搜索到的结果"
			click="toggle_highlight_all()"
			paddingLeft="5"
			paddingRight="5"
			buttonMode="true"
			/>
		
	</mx:ControlBar>
	
</mx:Application>
